<Window x:Class="FileDiff.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:FileDiff"
        mc:Ignorable="d"
        Title="MainWindow" Height="500" Width="700" Loaded="Window_Loaded"
				TextOptions.TextFormattingMode ="Display" UseLayoutRounding="True" ResizeMode="CanResizeWithGrip">

	<Window.Resources>
		<DataTemplate x:Key="ListTemplate">
			<StackPanel Orientation= "Horizontal">
				<Border BorderThickness="0,0,1,0"  BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }">
					<TextBlock Text="{Binding LineNumber}" Width="40" Foreground="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }" Margin="1,0,0,0"/>
				</Border>
				<TextBlock Text="{Binding Text}" Foreground="{Binding Foreground}" Background="{Binding Background}" HorizontalAlignment="Center" Margin="1,0,0,0"/>
			</StackPanel>
		</DataTemplate>
	</Window.Resources>

	<Window.CommandBindings>
		<CommandBinding Command="local:Commands.Compare" Executed="CommandCompare_Executed" />
		<CommandBinding Command="local:Commands.Exit" Executed="CommandExit_Executed" />
	</Window.CommandBindings>

	<DockPanel>

		<!--Menu-->
		<Border DockPanel.Dock="Top" BorderThickness="0,0,0,1" BorderBrush="{DynamicResource  {x:Static SystemColors.ScrollBarBrushKey} }">
			<Grid x:Name="GridMenu">
				<Grid.ColumnDefinitions>
					<ColumnDefinition Width="Auto" />
					<ColumnDefinition />
				</Grid.ColumnDefinitions>
				<Menu Grid.Row="0" Background="{DynamicResource {x:Static SystemColors.WindowBrushKey}}" VerticalAlignment="Center" Margin="2">
					<MenuItem Header="File">
						<MenuItem Header="Exit" Command="local:Commands.Exit" />
					</MenuItem>
					<MenuItem Header="Tools">
						<MenuItem Header="Options" />
					</MenuItem>
					<MenuItem Header="Help">
						<MenuItem Header="About" />
					</MenuItem>
				</Menu>
			</Grid>
		</Border>

		<!--Main Toolbar-->
		<WrapPanel DockPanel.Dock="Top" x:Name="ToolbarMain" Orientation="Horizontal">
			<WrapPanel.Background>
				<LinearGradientBrush EndPoint="0,1" StartPoint="0,0">
					<GradientStop Color="{DynamicResource {x:Static SystemColors.WindowColorKey}}" Offset="0" />
					<GradientStop Color="{DynamicResource {x:Static SystemColors.ControlColorKey}}" Offset="1" />
				</LinearGradientBrush>
			</WrapPanel.Background>
			<Button Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" Focusable="False" Command="local:Commands.Compare">
				<StackPanel Orientation="Horizontal">
					<Image  VerticalAlignment="Center" Margin="3" />
					<TextBlock Text="Compare" VerticalAlignment="Center" />
				</StackPanel>
			</Button>
			<Button Style="{StaticResource {x:Static ToolBar.ButtonStyleKey}}" Focusable="False" Command="ApplicationCommands.Save">
				<StackPanel Orientation="Horizontal">
					<Image  VerticalAlignment="Center" Margin="3" />
					<TextBlock Text="B" VerticalAlignment="Center" />
				</StackPanel>
			</Button>
			<Button Style="{StaticResource {x:Static ToolBar.ButtonStyleKey }}" Focusable="False" Command="ApplicationCommands.Delete" >
				<StackPanel Orientation="Horizontal">
					<Image  VerticalAlignment="Center" Margin="3" />
					<TextBlock Text="C" VerticalAlignment="Center" />
				</StackPanel>
			</Button>
		</WrapPanel>

		<!--Status Bar-->
		<Grid x:Name="GridStatusbar" DockPanel.Dock="Bottom"  Background="{DynamicResource {x:Static SystemColors.ControlBrushKey}}">
			<TextBlock Text="Status" Margin="2"/>
		</Grid>

		<!--Diff-->
		<Grid >
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto"/>
				<RowDefinition Height="327*"/>
			</Grid.RowDefinitions>

			<Grid.ColumnDefinitions>
				<ColumnDefinition Width="*"/>
				<ColumnDefinition Width="Auto"/>
				<ColumnDefinition />
			</Grid.ColumnDefinitions>

			<Border Grid.Column="0" BorderThickness="0,1,1,0" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }" >
				<TextBox Text="{Binding LeftFile, UpdateSourceTrigger=PropertyChanged}" BorderThickness="0,0,0,1" Padding="2" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }"/>
			</Border>

			<Border Grid.Column="0" Grid.Row="1" BorderThickness="0,0,1,1" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }" >
				<ScrollViewer x:Name="LeftScroll" VerticalScrollBarVisibility="Hidden" HorizontalScrollBarVisibility="Visible" ScrollChanged="LeftScroll_ScrollChanged">
					<ItemsControl ItemsSource="{Binding LeftSide}" ItemTemplate="{DynamicResource ListTemplate}" FontFamily="DejaVu Sans Mono" FontSize="11"  />
				</ScrollViewer>
			</Border>

			<GridSplitter Grid.Column="1" Width="4" HorizontalAlignment="Center" Focusable="False" Grid.RowSpan="2" />

			<Border Grid.Column="2" BorderThickness="1,1,0,0" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }" >
				<TextBox Text="{Binding RightFile, UpdateSourceTrigger=PropertyChanged}" BorderThickness="0,0,0,1" Padding="2" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }"/>
			</Border>

			<Border Grid.Column="2" Grid.Row="1" BorderThickness="1,0,0,1" BorderBrush="{DynamicResource {x:Static SystemColors.ScrollBarBrushKey} }" >
				<ScrollViewer x:Name="RightScroll" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Visible" ScrollChanged="RightScroll_ScrollChanged">
					<ItemsControl ItemsSource="{Binding RightSide}" ItemTemplate="{DynamicResource ListTemplate}" FontFamily="DejaVu Sans Mono" FontSize="11" />
				</ScrollViewer>
			</Border>

		</Grid>



	</DockPanel>
</Window>
